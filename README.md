## Arduino LC-meter

Простой измеритель емкости/индуктивности на Arduinо. Диапазон измерений: от ~90 пФ/мкГн до ~6 мкФ/Гн.

### Функционал

Кнопка J2 Calibration служит для программной коррекции нуля, что компенсирует начальное смещение нуля ОУ, а также емкость и индуктивность клемм и переключателя SW1. Нужный диапазон выбирается автоматически, причем после включения питания измерение начинается с 9 диапазона.

В процессе переключения диапазонов частота возбуждающего напряжения и результат преобразования АЦП отображаются в нижней строке индикатора. Это справочная информация, которая может помочь оценить корректность измерения параметров. Через несколько секунд после стабилизации показаний эта строка индикатора очищается, чтобы не отвлекать внимание пользователя.

Результат измерения отображается в верхней строке. Измеренное значение напряжения с выхода ОУ интерпретируется как емкость или индуктивность в зависимости от положения переключателя J3 MODE.

### Настройка

Прибор имеет два подстроечных резистора, предназначенных для настройки правильности показаний значения емкости и индуктивности. Их надо настроить после сборки и в дальнейшем трогать их не нужно. Для этой процедуры требуется парочка конденсаторов и индуктивностей с точностью хотя бы 5%.

### Как это работает

Принцип измерения заключается в подаче меандра на измеряемый конденсатор или индуктивность и преобразовании тока разряда конденсатора (или тока индуктивности) в напряжение, которое сглаживается и подается на АЦП Arduino. При измерении емкости конденсатор во время положительного полупериода заряжается через резистор R6 и диод D5, во время отрицательного разряжается через резистор R6 и диод D1, и его разрядный ток поступает на вход 2 U1. При измерении индуктивности во время положительного полупериода ток в катушке нарастает до значения, определяемого номиналом резистора R7, а во время отрицательной - ток, создаваемый ЭДС самоиндукции через D2 и R2, RV2 также поступает на вход U1. Ток разряда конденсатора (а, значит, и напряжение на выходе измерителя) прямо пропорционален его емкости, если конденсатор успевает полностью зарядиться за положительный полупериод и полностью разрядиться за отрицательный. Также и ток самоиндукции катушки прямо пропорционален ее индуктивности, если ток в ней успевает нарастать до максимального значения и спадать до нуля.

Для этого частота автоматически изменяется от 1 мегагерца до 15 герц в зависимости от значения напряжения на выходе измерителя. Прибор имеет 9 диапазонов измерения, и на каждом последующем диапазоне частота снижается, а предел измерения увеличивается в 4 раза. На первом диапазоне частота равна 1 МГц, и максимальное измеряемое значение ~90 пФ/мкГн.

| Диапазон | Частота (МГц) | Макс. емкость (Ф) | Макс. индуктивность (Гн) |
|----------|---------------|-------------------|--------------------------|
| 1        | 1.000.000     | 8,92e-11          | 8,92e-5                  |
| 2        | 250.000       | 3,56e-10          | 3,56e-4                  |
| 3        | 62.500        | 1,42e-9           | 1,42e-3                  |
| 4        | 15.625        | 5,70e-9           | 5,70e-3                  |
| 5        | 3.906         | 2,28e-8           | 2,28e-2                  |
| 6        | 976           | 9,13e-8           | 9,13e-2                  |
| 7        | 244           | 3,65e-7           | 3,65e-1                  |
| 8        | 61            | 1,46e-6           | 1,46                     |
| 9        | 15            | 5,84e-6           | 5,84                     |

### Источники

https://ra4nal.ontvtime.ru/lc_arduino.shtml

Журнал Радио №3 1982

